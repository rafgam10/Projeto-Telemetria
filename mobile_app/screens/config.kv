ScreenManager:
    ConfigScreen

<ConfigScreen>:
    name: "config"


    MDBoxLayout:
        orientation: "vertical"
        padding: dp(20)
        spacing: dp(10)
        md_bg_color: 0.05, 0.07, 0.12, 1  # Fundo principal escuro (quase preto)

        MDTopAppBar:
        
            orientation: "horizontal"
            spacing: dp(8)
            size_hint_y: None
            height: dp(56)
            padding: dp(10)
            elevation: 4.5
            md_bg_color: 0.05, 0.07, 0.12, 1
            radius: [15, 15, 15, 15]

            # MDIcon:
            #     icon: "steering"
            #     font_size: "40sp"
            #     theme_text_color: "Custom"
            #     text_color: (0.66, 0.73, 0.27, 1)
            #     pos_hint: {"center_y": 0.5}

            MDLabel:
                text: "[b][color=FFFFFF]Motorista[/color][color=A8BA44]Legal[/color][/b]"
                markup: True
                font_style: "H6"
                halign: "left"
                valign: "middle"
                height: self.texture_size[0]
                size_hint_x: 60
                pos_hint: {"center_y": 0.5}

            # Widget:  # empurra os botões pro lado direito
            #     size_hint_x: None
            #     width: dp(20)

            MDIconButton:
                icon: "home-variant-outline"
                theme_text_color: "Custom"
                text_color: 1,1,1,1
                pos_hint: {"center_y": 0.5}
                user_font_size: "20sp"
                on_press: 
                    root.manager.transition.direction = 'right' 
                    root.manager.current = 'home'

            MDIconButton:
                icon: "account"
                theme_text_color: "Custom"
                text_color: 1,1,1,1
                pos_hint: {"center_y": 0.5}
                user_font_size: "20sp"
                on_press: 
                    root.manager.transition.direction = 'right' 
                    root.manager.current = 'perfil'

            MDIconButton:
                icon: "history"
                theme_text_color: "Custom"
                text_color: 1,1,1,1
                pos_hint: {"center_y": 0.5}
                user_font_size: "20sp"
                on_press: 
                    root.manager.transition.direction = 'right' 
                    root.manager.current = 'historico'

            MDIconButton:
                icon: "cog"
                theme_text_color: "Custom"
                text_color:  (0.66, 0.73, 0.27, 1)
                md_bg_color:  0.09, 0.1, 0.15, 1
                pos_hint: {"center_y": 0.5}
                user_font_size: "20sp"

        # Cabeçalho de
        MDBoxLayout:
            orientation: "horizontal"
            size_hint_y: None
            height: dp(10)
            spacing: dp(4)
            padding: dp(10), 0
            pos_hint: {'center_x': 0.5}

        # MDCard Main
        MDCard:
            orientation: "vertical"
            padding: dp(20)
            spacing: dp(10)
            md_bg_color: 0.09, 0.1, 0.15, 1  # Card azul escuro
            radius: [15, 15, 15, 15]
            pos_hint: {"center_x": 0.5, "center_y": 0.5}

            MDBoxLayout:
                orientation: "horizontal"
                spacing: dp(10)
                pos_hint: {"center_x": 0.72}
                

                MDIcon:
                    icon: "cog"
                    font_size: "25sp"
                    theme_text_color: "Custom"
                    text_color: (0.66, 0.73, 0.27, 1)
                    size_hint: None, None
                    size: self.texture_size
                    pos_hint: {"center_x":0.5,"center_y": 0.5}

                MDLabel:
                    text: "[b]Confugurações[/b]"
                    theme_text_color: "Custom"
                    text_color: 1, 1, 1, 1
                    font_style: "H6"
                    markup: True


            MDCard:
                orientation: "vertical"
                padding: dp(20), dp(5), dp(20), dp(5)
                spacing: dp(15)
                md_bg_color: 0.10, 0.15, 0.22, 1 
                radius: 15
                size: dp(330), dp(300)
                size_hint: None, None
                pos_hint: {'center_x': 0.5}

                MDBoxLayout:
                    orientation: "horizontal"
                    spacing: dp(20)
                    padding: dp(20), dp(20), dp(0), dp(0)
                    size_hint_y: None
                    height: dp(48)
                    pos_hint: {"center_x": 0.5}
                    

                    MDSwitch:
                        id: switch_notificacoes
                        size_hint_x: None
                        width: dp(48)
                        pos_hint: {"center_y": 0.5}
                        active: False
                        thumb_color_active: "white"
                        icon_active: "check-bold"
                        icon_inactive: "close-thick"

                    MDLabel:
                        text: "[b]Ativar as Notificações[/b]"
                        markup: True
                        theme_text_color: "Custom"
                        text_color: 1, 1, 1, 1
                        font_style: "Body1"
                        halign: "left"
                        valign: "middle"
            
                
                MDBoxLayout:
                    orientation: "horizontal"
                    spacing: dp(20)
                    padding: dp(20), dp(20), dp(0), dp(0)
                    size_hint_y: None
                    height: dp(48)
                    pos_hint: {"center_x": 0.5}
                    

                    MDSwitch:
                        id: switch_troca_tema
                        size_hint_x: None
                        width: dp(48)
                        pos_hint: {"center_y": 0.5}
                        active: True
                        thumb_color_active: "white"
                        icon_active: "check-bold"
                        icon_inactive: "close-thick"

                    MDLabel:
                        text: "[b]Usar tema escuro (ativado)[/b]"
                        markup: True
                        theme_text_color: "Custom"
                        text_color: 1, 1, 1, 1
                        font_style: "Body1"
                        halign: "left"
                        valign: "middle"


                
                MDBoxLayout:
                    orientation: 'vertical'
                    spacing: dp(10)
                    padding: dp(0), dp(20)
                    pos_hint: {"center_x": 0.5, "center_y": 0.3}  # mais pra baixo
                    
                    MDLabel:
                        text: "[b]Email para notificações[/b]"
                        theme_text_color: "Custom"
                        text_color: 1, 1, 1, 1
                        font_style: "Body1"
                        markup: True

                    MDTextField:
                        hint_text: "Digite o seu Email..."
                        icon_right: "email"
                        font_size: dp(15)
                        icon_right_color_normal: 'white'
                        text_color_normal: "white"
                        mode: "rectangle"
                        theme_text_color: "Custom"
                        text_color: 0.66, 0.73, 0.27, 1
                        line_color_normal: 0.66, 0.73, 0.27, 1
                        line_color_focus: 0.66, 0.73, 0.27, 1
                        text_color_focus: "white"
                        hint_text_color_normal: 0.66, 0.73, 0.27, 1
                        icon_right_color: 0.66, 0.73, 0.27, 1
            
            MDBoxLayout:
                orientation: 'vertical'
                padding: dp(0), dp(80), dp(0), dp(0)

                MDRaisedButton:
                    text: "[b]Salvar[/b]"
                    padding: dp(0), dp(10)
                    pos_hint: {"center_x": 0.5}
                    theme_text_color: "Custom"
                    md_bg_color: 0.66, 0.73, 0.27, 1
                    on_press: app.salvar_config()
            # MDCard:
            #     orientation: "vertical"
            #     padding: dp(20)
            #     spacing: dp(2)
            #     md_bg_color: 0.10, 0.15, 0.22, 1  # Azul escuro mais visível
            #     radius: [15, 15, 15, 15]

            #     MDBoxLayout:
            #         orientation: "horizontal"


            #         MDSwitch:
            #             widget_style: 'android'
            #             pos_hint: { 'center_y': .5}

            #         MDLabel:
            #             text: "[b]Nome:[/b]"
            #             theme_text_color: "Custom"
            #             text_color: (0.66, 0.73, 0.27, 1)
            #             font_style: "H6"
            #             markup: True


            #         # MDLabel:
            #         #     text: "[b]Rafael Teste[/b]"
            #         #     theme_text_color: "Custom"
            #         #     text_color: 1, 1, 1, 1
            #         #     font_style: "Body1"
            #         #     markup: True


            


            #         MDLabel:
            #             text: " "
            #             theme_text_color: "Custom"
            #             text_color: 1, 1, 1, 1
            #             font_style: "Body1"
            #             markup: True

            #     MDBoxLayout:
            #         orientation: "horizontal"

            #         MDLabel:
            #             text: "[b]Placa:[/b]"
            #             theme_text_color: "Custom"
            #             text_color: (0.66, 0.73, 0.27, 1)
            #             font_style: "H6"
            #             markup: True


            #         MDLabel:
            #             text: "[b]ABC123[/b]"
            #             theme_text_color: "Custom"
            #             text_color: 1, 1, 1, 1
            #             font_style: "Body1"
            #             markup: True

            #     # Espaço "\n"
            #     MDBoxLayout:
            #         orientation: "horizontal"

            #         MDLabel:
            #             text: " "
            #             theme_text_color: "Custom"
            #             text_color: (0.66, 0.73, 0.27, 1)
            #             font_style: "H6"
            #             markup: True


            #         MDLabel:
            #             text: " "
            #             theme_text_color: "Custom"
            #             text_color: 1, 1, 1, 1
            #             font_style: "Body1"
            #             markup: True


            #     MDBoxLayout:
            #         orientation: "horizontal"

            #         MDLabel:
            #             text: "[b]Caminhão:[/b]"
            #             theme_text_color: "Custom"
            #             text_color: (0.66, 0.73, 0.27, 1)
            #             font_style: "H6"
            #             markup: True


            #         MDLabel:
            #             text: "[b]Volvo FH 540[/b]"
            #             theme_text_color: "Custom"
            #             text_color: 1, 1, 1, 1
            #             font_style: "Body1"
            #             markup: True

            
            # <<< AQUI adicionamos um expansor invisível >>>
            Widget:
                size_hint_y: 1
            
            

        